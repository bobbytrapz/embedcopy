# embedcopy
embedcopy is a tool for embedding assets into a program

embedcopy compresses the data using gzip then generates a go package with a function for decompressing and reading the data.
This allows us to embed assets into a binary.
Possible use cases are embedding html/images for a web server or sprites in a game.

```
embedcopy -package assets -function IndexHTML <index.html >assets/index.go
```

Results in assets/index.go looking something like this:

```
// Code generated by embedcopy; DO NOT EDIT.
package assets

import (
	"bytes"
	"compress/gzip"
	"io"
)

// IndexHTML decompresses and returns embedded data
func IndexHTML() (io.Reader, error) {
	return gzip.NewReader(bytes.NewReader([]byte{
		0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0x84, 0x56,
		0x6d, 0x6f, 0xdb, 0x36, 0x10, 0xfe, 0x2c, 0xfe, 0x8a, 0x9b, 0x80, 0x14,
		0xd2, 0xa0, 0xca, 0x6d, 0x3f, 0x7a, 0x70, 0x81, 0xe5, 0xa5, 0x58, 0x81,
...
```

We can then use it like this:

```
func main() {
	reader, err := assets.IndexHTML()
	if err != nil {
		panic(err)
	}

	fmt.Println("====== EMBEDDED index.html ======")
	io.Copy(os.Stdout, reader)
}
```
